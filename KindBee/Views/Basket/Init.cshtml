@{
    ViewData["Title"] = "Корзина";
}
@model KindBee.DB.DBModels.Basket;

<head>
    <link rel="stylesheet" href="~/css/BasketInit.css"/>
    <link rel="stylesheet" href="~/css/deleteButton.css"/>
    <link rel="stylesheet" href="~/css/submitButton.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:600" />
    <script type="text/jscript" src="~/lib/jquery/dist/jquery.min.js" asp-append-version="true"></script>
</head>
<div class="text-center">
    @if (Model.Positions == null || Model.Positions.Count() == 0)
    {
        <h2>Ваша корзина пуста</h2>
    }
    else
    {
        <table class="table">
            <thead>
                <tr>
                    <th>Наименование продукта</th>
                    <th>Цена за 1 шт.</th>
                    <th>Количество</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="tableBody">
                @foreach (var item in Model.Positions)
                {
                    <tr>
                        <td>@item.Product.Name</td>
                        <td name="price">@item.Product.Price</td>
                        <td name="quantity">@item.Quantity</td>
                        <td name="m">
                            <button onclick="AddOneProductInBasket(@item.Product.Id, this)" type="submit" class="plus-btn">+</button>
                            <button onclick="DeleteOneProductFromBasket(@item.Product.Id, this)" type="submit" class="minus-btn">-</button>
                            <button class="delete" onclick="DeletePositionFromBasket(@item.Product.Id, this)">Удалить этот продукт</button>
                        </td>
                    </tr>

                }
                <tr><td>Итого - <p class="totalSum" name="totalSum" id="totalSum"> @Model.TotalSum</p>рублей</td></tr>
            </tbody>
        </table>

        <div class="button">
            <div class="text">Оформить заказ</div>
        </div>
       
        <div class="progress-bar"></div>
        <svg x="0px" y="0px"
         viewBox="0 0 25 30" style="enable-background:new 0 0 25 30;">
            <path class="check" class="st0" d="M2,19.2C5.9,23.6,9.4,28,9.4,28L23,2" />
        </svg>

        <div class="deleteButton">
            <div class="deleteButton-back">
                <p>Вы уверены, что хотите очистить корзину?</p>
                <button class="yes">Да</button>
                <button class="no">Нет</button>
            </div>
            <div class="deleteButton-front">Очистить корзину</div>
        </div>
    }


    <a href="@Url.Action("Index", "Home")">Перейти на главную</a>
</div>
<script type="text/jscript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script type="text/jscript" src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.js"> </script>
<script type="text/jscript" src="~/js/basketInit.js" asp-append-version="true"></script>
<script type="text/jscript" src="~/js/deleteButton.js" asp-append-version="true"></script>
<script type="text/jscript" src="~/js/submitButton.js" asp-append-version="true"></script>
@*<script type="text/jscript">
  
</script>*@
